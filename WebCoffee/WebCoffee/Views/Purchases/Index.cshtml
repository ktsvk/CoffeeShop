@inject WebCoffee.Data.ApplicationDbContext context;
@using WebCoffee.Models
@model IEnumerable<Order>
@{
    ViewData["Title"] = "Purchases";
}

<div class="main-page">
    <div class="page-header">Ваши заказы</div>
    <div class="orders">
        @foreach (var order in Model)
        {
            <div class="order">
                <div class="order-header">
                    <div>
                        @order.Date
                    </div>
                    <div>
                        @order.Time
                    </div>
                </div>
                <div class="purchases">
                    @foreach (var purchase in order.Purchases)
                    {
                        <div class="purchase">
                            <div class="purchase__img">
                                <img src="@Url.Content(purchase.Product.Photo.Path + purchase.Product.Photo.Name)" alt="img" />
                            </div>
                            <div class="purchase__body">
                                <div class="purchase__title">
                                    @purchase.Product.Category.Name "@purchase.Product.Name"
                                </div>
                                <div class="purchase__price">
                                    Цена: @purchase.Product.Price BYN
                                </div>
                            </div>
                            <div class="purchase__amount">
                                Кол-во: @purchase.Amount
                            </div>
                            <div>
                                @purchase.Portion.Name @purchase.Portion.Size
                            </div>
                        </div>
                    }
                </div>
            </div>
        }
    </div>
</div>